#! /usr/bin/env node

//引入fs方法
const fs = require("fs")
    //引入path方法
const path = require("path")
    //引入path方法中的extname
const { extname } = require("path")

//获取路径
const params = process.cwd()
    //获取文件夹
const filename = process.argv.slice(2)

//调用函数
fun(params)

//查找文件即文件夹
function fun(abs) {
    //查找到当前路径下的所有文件即文件夹
    const fileArr = fs.readdirSync(abs)
        //遍历循环
    fileArr.forEach((item) => {
        //字符串拼接,成子绝对路径
        const sub = path.join(abs, item)
            //获取子文件的原信息
        const stat = fs.statSync(sub)
            //判断是否是文件
        if (stat.isFile()) {
            console.log(`${item}---${extname(sub).substr(1)}----${stat.size}/n`)
        } else {
            //递归
            fun(sub)
        }
    })
}